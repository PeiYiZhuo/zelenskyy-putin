---
layout: post
title: "An Analysis of Zelenskyy and Putin Press Releases"
output: 
  md_document:
    variant: gfm
    preserve_yaml: True
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r load-packages, include=FALSE}
library(countrycode)
library(tidyverse)
library(tidyquant)
library(patchwork)
library(lubridate)
library(tidytext)
library(scales)
library(here)
```

# An Analysis of Zelenskyy and Putin Press Releases 

Russia launched its full-scale invasion of Ukraine on February 24, 2022, turning a simmering conflict that has marred the region since 2014 into the largest war on European soil since the defeat of Nazi Germany in 1945. (For more context, I recommend this [New York Times article](https://www.nytimes.com/article/russia-ukraine-nato-europe.html) and this [piece from the Council on Foreign Relations](https://www.cfr.org/global-conflict-tracker/conflict/conflict-ukraine).) As the Ukrainian and Russian armed forces struggle against each other to gain the upper hand on the battlefield, the two governments are also prosecuting an information war for the hearts and minds of the world. 

For a glimpse of how this parallel war of words and images is being waged, I decided to use the tools of data science to take a look at the English language press releases that the two countries have been producing prior to and after February 24. I obtained the data for this analysis by scraping the news sections of the English language websites of [the President of Ukraine](https://www.president.gov.ua/en/news/all) and [the Kremlin](http://en.kremlin.ru/events/president/news). The 1033 pieces I scraped are dated from October 24, 2021, four months prior to the invasion, to June 24, 2022, four months after the invasion.

According to my analysis, which is modeled after [David Robinson's analysis of Donald Trump's tweets](http://varianceexplained.org/r/trump-tweets/), Zelenskyy's press releases demonstrate more concern about the war in Ukraine than do the press releases of the Kremlin. Since February 24, Zelenskyy has published press releases at a faster rate than Putin and expresses more negative emotions in his releases than his Russian counterpart (who euphemistically refers to the war as a "special military operation"). These differences illustrate the contrasting communication goals of the two wartime leaders. While Zelenskyy is attempting to raise the alarm as loudly as he can about the existential threat to his country, Putin is trying to downplay the conflict through both the volume and the content of his press releases.



```{r load-data, include=FALSE}
load(here("press_release_data", "zelenskyy.RData"))
load(here("press_release_data", "putin.RData"))
```

```{r combine-data, include=FALSE}
putin <- putin %>%
  mutate(
    # Combine press release summary with text
    text = ifelse(summary != "", paste(summary, text), text),
    origin = "putin"
  ) %>%
  select(-c(location, summary))

zelenskyy <- mutate(zelenskyy, origin = "zelenskyy") 

articles <- zelenskyy %>%
  rbind(putin) %>%
  mutate(
    text = ifelse(headline != "", paste(headline, text), text),
    origin = ifelse(origin == "putin", "Putin", "Zelenskyy"),
    after = date >= ymd("2022-02-24")
  ) 
```

## Press Release Volume Over Time

```{r releases-over-time, echo=FALSE}
pieces_by_day <- articles %>%
  mutate(date = date(date)) %>%
  group_by(date, origin) %>%
  count()

pieces_by_day %>%
  ggplot(aes(x = date, y = n, color = origin)) +
    geom_vline(xintercept = ymd("2022-02-24"), color = "red", linetype = "dashed") +
    annotate(
      "text", label = "Full-scale invasion begins",
      x = ymd("2022-03-26"), y = 6, size = 3
    ) +
    geom_ma(n = 30) + # https://www.r-bloggers.com/2021/04/ggplot-with-moving-averages/
    coord_x_date(xlim = c("2021-11-22", "2022-06-24")) +
    labs(
      x = "Date",
      y = "Pieces",
      title = "Zelenskyy published more press releases than Putin after full-scale invasion",
      subtitle = "30-day moving average"
    ) +
    guides(color = guide_legend("Government")) +
    theme_minimal()
```

Zelenskyy and Putin produced a comparable number of press releases prior to February 24, 2022. However, their rates of output diverge significantly after the full-scale invasion of Ukraine by Russia began. During this time period, Zelenskyy published at a rate of around five per day while Putin looks to be a full piece behind Zelenskyy in terms of daily output. Moreover, this gap shows no sign of closing. 

```{r date-ranking, include=FALSE}
zelenskyy_pieces_by_day <- pieces_by_day %>%
  filter(origin == "Zelenskyy") %>%
  add_column(
    rank = rank(-.$n, ties.method = "min")
  ) %>%
  arrange(rank) 

putin_pieces_by_day <- pieces_by_day %>%
  filter(origin == "Putin") %>%
  add_column(
    rank = rank(-.$n, ties.method = "min")
  ) %>%
  arrange(rank) 
```

Relatedly, February 24 is tied for Zelenskyy's fourth busiest day overall at 10 releases, but is tied for Putin's 23rd busiest day overall at six releases. In this particular case as in the general one above, Zelenskyy exhibits a more dramatic responsive to the onset of the full-scale invasion than Putin. In what other ways have they diverged since then?

### Mentions of war, Ukraine, and Russia

```{r word-data-set, include=FALSE}
words <- articles %>%
  unnest_tokens(word, text) %>%
  anti_join(stop_words, by = "word")
```

```{r war-smo, fig.width=5, fig.height=1.5, echo=FALSE}
smo <- articles %>%
  mutate(
    # https://github.com/rstudio/cheatsheets/blob/main/strings.pdf
    smo = str_count(text, "special military operation|Special military operation")
  ) %>%
  filter(after == TRUE) %>%
  group_by(origin) %>%
  summarize(n = sum(smo)) %>%
  mutate(word = "special military operation")

words_by_period <- words %>%
  filter(after == TRUE) %>%
  group_by(origin) %>%
  # Consider the number of mentions of 
  # "special military operation" every 50 words
  summarize(total = n() / 50) 

smo <- left_join(smo, words_by_period, by = "origin")

words %>%
  filter(after == TRUE) %>%
  group_by(origin, word) %>%
  count() %>%
  ungroup() %>%
  add_count(origin, wt = n, name = "total") %>%
  filter(word %in% c("war", "security")) %>%
  rbind(smo) %>%
  .[nrow(.):1, ] %>%
  group_by(word) %>%
  do(tidy(poisson.test(.$n, .$total, alternative = "two.sided"))) %>%
  ggplot(aes(x = estimate, y = reorder(word, estimate))) +
  geom_col() +
  geom_errorbar(aes(xmin = conf.low, xmax = conf.high), 
                width = 0.1, position = position_dodge(width = 0.9)) +
  geom_vline(xintercept = 1, linetype = "dashed", color = "red") +
  scale_x_continuous(breaks = 0:14) +
  annotate(
    "text", label = "Zelenskyy is just as likely as Putin to use this term.",
    x = 3.5, y = 1.5, size = 3
  ) +
  labs(
    x = "Times more likely that Zelenskyy uses term", y = "",
    title = 'Zelenskyy is 11 times more likely than Putin to use the word "war"',
    subtitle = "Press releases from Feb 24 to Jun 24"
  ) +
  theme_minimal() +
  theme(panel.grid.minor = element_blank())
```

A notable aspect of Russian messaging about the conflict has been their refusal to describe it as a war, instead using the infamous term "special military operation." By contrast, Zelenskyy has no issue with characterizing the hostilities as a war. After using `unnest_tokens` from the `tidytext` package to create a data set of words and eliminating stop words ("the", "and", "so", etc.) from the data set, I found that this difference between the vocabularies of the two leaders is apparent in their press releases.

```{r ukraine-russia, fig.width=3, fig.height=3, echo=FALSE}
words %>%
  mutate(
    country = case_when(
      str_detect(word, "belarussian") ~ NA_character_,
      str_detect(word, "ukraine|ukrainian") ~ "Ukraine",
      str_detect(word, "russia") ~ "Russia",
      TRUE ~ NA_character_
    )
  ) %>%
  group_by(origin, after, country) %>%
  count() %>%
  ungroup() %>%
  add_count(origin, after, wt = n, name = "total") %>%
  filter(!is.na(country)) %>%
  .[nrow(.):1, ] %>%
  group_by(origin, country) %>%
  do(tidy(poisson.test(.$n, .$total, alternative = "two.sided"))) %>%
  ggplot(aes(x = origin, estimate, y = estimate, fill = country)) +
  geom_col(position = "dodge") +
  geom_errorbar(aes(ymin = conf.low, ymax = conf.high), 
                width = 0.1, position = position_dodge(width = 0.9)) +
  geom_hline(yintercept = 1, linetype = "dashed", color = "red") +
  annotate("text", label = "No change after\nfull-scale invasion",
           x = 2.62, y = 1, size = 3, hjust = 0) +
  coord_cartesian(clip = "off", xlim = c(1, 2)) +
  labs(
    x = "Government", y = "Times more likely country mentioned post-invasion",
    title = paste0(
      "Zelenskyy increased mentions of Russia far more than Putin", 
      "\nincreased mentions of Ukraine since full-scale invasion"
    )
  ) +
  guides(fill = guide_legend("Mentions of ...")) +
  theme_minimal() 
```

The above plot depicts, for Zelenskyy and Putin, changes in their likelihood of mentioning their own as well as their counterpart's country. After February 24, the Kremlin's press releases only slightly increased their likelihood of mentioning Ukraine despite the start of their full-scale invasion of the country. Meanwhile, the likelihood that Zelenskyy mentions Russia quadrupled after that date. (For both sides, however, the likelihood of mentioning their own country barely budged from where it was pre-invasion.) The extent of Zelenskyy's increase relative to Putin's reinforces the contrast between the communication strategies of the governments led by these two men. While the war has seemingly consumed Zelenskyy's communications, Putin's response has been far less dramatic. 

### Sentiment Analysis

```{r add-sentiments}
# https://www.tidytextmining.com/sentiment.html
nrc <- get_sentiments("nrc")
words <- words %>%
  add_count(origin, after) %>%
  left_join(nrc, by = "word") %>%
  group_by(origin, after, sentiment, total = n) %>%
  count(name = "number") %>%
  filter(!is.na(sentiment)) 
```

Since the full-scale invasion of Ukraine, Zelenskyy's press releases have increased by a greater extent in both volume and mentions of the opposing side than statements from the Kremlin. Using the data set of words created in the previous section, I conducted a sentiment analysis using Poisson tests (along the same lines as the one that David Robinson performed on iPhone and Android tweets from Donald Trump's Twitter timeline) and found further evidence of a divergence between Putin and Zelenskyy since February 24.

```{r sentiment-poisson-1}
words %>%
    mutate(after = ifelse(after, "Post-Invasion", "Pre-Invasion")) %>%
    group_by(origin, sentiment) %>%
    # https://www.datasciencemadesimple.com/reverse-the-order-of-dataframe-row-wise-2/
    .[nrow(.):1, ] %>%
    do(tidy(poisson.test(.$number, .$total))) %>%
    mutate(across(c(estimate, starts_with("conf")), ~ . - 1)) %>%
    ggplot(aes(x = estimate, y = reorder(sentiment, estimate), color = origin)) +
    geom_vline(xintercept = 0, linetype = "dashed", color = "black") +
    geom_point() +
    geom_errorbar(aes(xmin = conf.low, xmax = conf.high), width = 0.1) +
    scale_x_continuous(labels = label_percent()) +
    # https://en.wikipedia.org/wiki/Flag_of_Ukraine
    # https://en.wikipedia.org/wiki/Flag_of_Russia
    scale_color_manual(values = c("#DA291C", "#0066cc")) +
    labs(
      x = "Change from pre-invasion to post-invasion",
      y = "Sentiment",
      title = paste0("Zelenskyy press releases experienced a more dramatic shift",
                     "\nin sentiment (especially negative ones) following invasion")
    ) +
    guides(color = guide_legend("")) +
    theme_minimal() +
    theme(
       # https://stackoverflow.com/questions/20609716/changing-format-of-some-axis-labels-in-ggplot2-according-to-condition
      axis.text.y = element_text(face = c(rep("plain", 5), rep("bold", 5)))
    )
```

As can be seen above, post-invasion press releases from Zelenskyy are much more likely to use words that connote disgust (140% more likely), sadness (138% more likely), negativity (117% more likely), anger (113% more likely), and fear (107% more likely) than those from before the invasion. In contrast to these large shifts in tone, the sentiment of Putin's press releases have hardly budged since the start of the invasion. The largest change for Russian press releases is in their use of joyful words, which increased 10% post-invasion. However, this is exceed by a 44% increase on the Ukrainian side.

To examine this same phenomenon from a different angle, let's compare how much Zelenskyy's and Putin's press releases differed prior to the invasion versus after. 

```{r sentiment-poisson-2}
words %>%
    mutate(after = ifelse(after, "Post-Invasion", "Pre-Invasion")) %>%
    group_by(after, sentiment) %>%
    # https://www.datasciencemadesimple.com/reverse-the-order-of-dataframe-row-wise-2/
    .[nrow(.):1, ] %>%
    do(tidy(poisson.test(.$number, .$total))) %>%
    mutate(across(c(estimate, starts_with("conf")), ~ . - 1)) %>%
    ggplot(aes(x = estimate, y = reorder(sentiment, estimate), color = after)) +
    geom_vline(xintercept = 0, linetype = "dashed", color = "black") +
    geom_point() +
    geom_errorbar(aes(xmin = conf.low, xmax = conf.high), width = 0.1) +
    scale_x_continuous(labels = label_percent()) +
    labs(
      x = "Change from Putin to Zelenskyy",
      y = "Sentiment",
      title = paste0("Zelenskyy press releases diverged in sentiment (especially",
                     "\nanger) from Putin press releases following invasion")
    ) +
    guides(color = guide_legend("Time period")) +
    theme_minimal() +
    theme(
       # https://stackoverflow.com/questions/20609716/changing-format-of-some-axis-labels-in-ggplot2-according-to-condition
      axis.text.y = element_text(face = c(rep("plain", 9), "bold"))
    )
```

As you had probably expected, Zelenskyy became much more likely to use negative words relative to Putin during the period after February 24. Prior to the full-scale invasion, neither leader expressed all five negative sentiments more than the other. Putin's press releases were more likely to use words associated with disgust, negativity, and sadness while Zelenskyy was more likely to use angry and fearful words. However, after the Russian invasion, Zelenskyy became much more likely to use words associated with every one of these sentiments. Of particular note is the extent, at nearly 3 times that of the Kremlin, to which press releases from Zelenskyy became more likely to use angry words.

### Conclusion

Putin's use of obfuscating language contributes additional evidence in favor of the claim that he is minimizing the war. Zelenskyy's press releases are 3 times more likely to use angry words than Putin's. Zelenskyy's outrage in contrast to Putin's blase attitude is indicative of each leader's willingness (or lack thereof in the case of Putin) to display alarm over the conflict. It makes sense that Zelenskyy, given the state of emergency into which his country has been plunged, would project negative sentiments in his communications. Such a strategy is more likely to alert international allies of the severity of Ukraine's plight. Putin, on the other hand, having initiated the conflict, probably wants to give the impression that the situation is under control and is therefore apt to downplay the events of these past two months.

Additional Sources:

1. https://intro2r.com/r-markdown-anatomy.html
2. https://bookdown.org/yihui/rmarkdown/markdown-syntax.html
3. https://bookdown.org/yihui/rmarkdown-cookbook/font-color.html
4. https://onlinelibrary.wiley.com/doi/abs/10.1111/j.1467-8640.2012.00460.x
